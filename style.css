:root { 
    --primary: #d50000;      
    --primary-dark: #b71c1c; 
    --accent: #000000;        
    --text: #212121;          
    --bg: #f5f5f5;            
    --card-bg: #ffffff;       
    --success: #2e7d32;       
    --shadow: 0 4px 12px rgba(0,0,0,0.1);
}

* { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', system-ui, sans-serif; -webkit-tap-highlight-color: transparent; }
body { background: var(--bg); color: var(--text); padding-bottom: 85px; text-transform: uppercase; user-select: none; }

/* HEADER */
header { 
    background: linear-gradient(135deg, var(--accent) 30%, var(--primary) 100%); 
    color: white; padding: 15px; 
    box-shadow: 0 4px 10px rgba(0,0,0,0.2); 
    position: sticky; top: 0; z-index: 100; 
    display:flex; justify-content:space-between; align-items:center; 
    border-bottom: 3px solid var(--primary);
}
header h2 { font-size: 16px; font-weight: 900; letter-spacing: 1px; display: flex; align-items: center; gap: 8px; font-style: italic; }

/* BOTÃO DE VERSÃO / ATUALIZAR */
.version-btn { 
    font-size: 10px; font-weight: bold; background: rgba(255,255,255,0.2); 
    padding: 4px 8px; border-radius: 12px; margin-left: 5px; font-style: normal; 
    cursor: pointer; border: 1px solid rgba(255,255,255,0.4); display: flex; align-items: center; gap: 5px;
    transition: 0.3s;
}
.version-btn:active { background: white; color: var(--primary); transform: scale(0.95); }
.version-btn i { font-size: 11px; }

.container { padding: 12px; max-width: 800px; margin: auto; }
.page { display: none; animation: slideUp 0.3s ease-out; }
.page.active { display: block; }
@keyframes slideUp { from { opacity:0; transform:translateY(15px); } to { opacity:1; transform:translateY(0); } }

/* CARDS */
.card { background: var(--card-bg); padding: 18px; border-radius: 16px; box-shadow: var(--shadow); margin-bottom: 15px; position: relative; border-left: 5px solid transparent; }
.card:hover { border-left-color: var(--primary); transition: 0.3s; }

h3 { 
    color: var(--accent); font-size: 14px; margin-bottom: 15px; 
    border-bottom: 2px solid #eee; padding-bottom: 8px; 
    display:flex; justify-content:space-between; align-items:center; font-weight: 800; 
}

/* BOTÃO NOVO */
.btn-novo {
    background: var(--accent); color: white; border: none; 
    padding: 6px 16px; border-radius: 20px; font-size: 10px; font-weight: bold; 
    cursor: pointer; display: flex; align-items: center; gap: 5px; 
    box-shadow: 0 4px 6px rgba(0,0,0,0.2); transition: 0.2s;
}
.btn-novo:active { transform: scale(0.95); background: var(--primary); }

/* INPUTS & LABELS */
label { font-size: 10px; font-weight: 800; color: #666; margin-top: 10px; display: block; letter-spacing: 0.5px; }
input, textarea, select { 
    width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 10px; 
    background: #fafafa; margin-top: 5px; font-size: 14px; outline: none; transition: 0.2s; font-weight: 600; color: #333;
}
input:focus { border-color: var(--primary); background: #fff; }

/* BUSCA COM LUPA */
.search-box { position: relative; margin-top: 5px; }
.search-box input { padding-right: 45px; margin-top: 0; }

.search-btn { 
    position: absolute; right: 5px; top: 2px; bottom: 2px;
    background: var(--primary); color: white; border: none; width: 40px; 
    border-radius: 8px; cursor: pointer; display: flex; align-items: center; justify-content: center; 
    z-index: 20;
}
.search-btn:active { background: var(--primary-dark); transform: scale(0.95); }

.sugestoes { background: white; border-radius: 0 0 10px 10px; max-height: 250px; overflow-y: auto; position: absolute; top: 100%; width: 100%; z-index: 999; box-shadow: 0 10px 20px rgba(0,0,0,0.15); display: none; border: 1px solid #eee; }
.sugestoes div.item-sug { padding: 12px; border-bottom: 1px solid #f1f1f1; cursor: pointer; font-size: 12px; font-weight: bold; display: flex; justify-content: space-between; }
.sugestoes div.item-sug:active { background: #f0f0f0; }
.sug-header { background: #eee; color: #555; font-size: 10px; font-weight: 900; padding: 5px 12px; letter-spacing: 1px; }

/* FOTOS OS */
.os-foto-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 5px; margin-top: 5px; }
.os-foto-slot {
    aspect-ratio: 1; background: #eee; border-radius: 8px; border: 2px dashed #ccc;
    display: flex; align-items: center; justify-content: center; cursor: pointer;
    overflow: hidden; position: relative;
}
.os-foto-slot img { width: 100%; height: 100%; object-fit: cover; }
.os-foto-slot i { color: #999; font-size: 20px; }

/* KANBAN */
.kanban-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 6px; align-items: start; }
.k-col { background: #f0f0f0; padding: 5px; border-radius: 10px; min-height: 100px; }
.k-head { font-size: 9px; font-weight: 900; text-align: center; margin-bottom: 8px; color: var(--accent); background: white; padding: 4px; border-radius: 6px; border: 1px solid #ddd; }

.os-card { background: white; padding: 8px; border-radius: 8px; margin-bottom: 6px; border-top: 4px solid #ccc; font-size: 10px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
.os-card.pecas { border-top-color: var(--primary); } 
.os-card.pgto { border-top-color: #ff9800; } 
.os-card.retirado { border-top-color: var(--success); }

.btn-mini { border: none; border-radius: 6px; padding: 4px; color: white; cursor: pointer; font-size: 9px; flex: 1; transition: 0.2s; display:flex; justify-content:center; align-items:center; }
.btn-mini:active { transform: scale(0.9); }

/* BOTÕES GERAIS */
.btn { width: 100%; padding: 14px; border: none; border-radius: 10px; font-weight: 800; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px; margin-top: 15px; font-size: 13px; color: white; text-transform: uppercase; letter-spacing: 0.5px; box-shadow: 0 4px 10px rgba(0,0,0,0.15); }
.btn-primary { background: var(--primary); } 
.btn-dark { background: var(--accent); } 
.btn-info { background: #0288d1; }
.btn-success { background: var(--success); }
.btn-zap { background: #25D366; }
.btn-add-mini { background: #2e7d32; color:white; border:none; border-radius:8px; width:44px; font-size:18px; cursor:pointer; margin-top:5px; }

/* BOTÃO CHECK DESCONTO */
.btn-check { 
    background: #2e7d32; color: white; 
    border: none; border-radius: 0 8px 8px 0; 
    width: 35px; height: 45px; 
    cursor: pointer; display: flex; align-items: center; justify-content: center; margin-top: 5px;
}
.btn-check:active { background: #1b5e20; }

/* FOTOS E MODAL */
.foto-preview { 
    width: 80px; height: 80px; border-radius: 50%; 
    background-color: #eee; 
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' fill='%23999'%3E%3Cpath d='M149.1 64.8L138.7 96H64C28.7 96 0 124.7 0 160V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H373.3L362.9 64.8C356.4 45.2 338.1 32 317.4 32H194.6c-20.7 0-39 13.2-45.5 32.8zM256 192a96 96 0 1 1 0 192 96 96 0 1 1 0-192z'/%3E%3C/svg%3E");
    background-size: 40%; background-position: center; background-repeat: no-repeat;
    object-fit: cover; border: 3px solid var(--primary); margin: 10px auto; display: block; cursor: pointer; 
}
.foto-preview.has-img { background-image: none; }

#modal-overlay { position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index: 2000; display:none; align-items:center; justify-content:center; backdrop-filter: blur(5px); }
.modal-content { background: white; padding: 25px; border-radius: 20px; width: 85%; max-width: 320px; text-align: center; border: 2px solid var(--primary); }

/* RANKING */
.rank-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; margin-top: 15px; }
.rank-box { background: #fafafa; padding: 8px; border-radius: 10px; border: 1px solid #eee; }
.rank-title { font-size: 10px; font-weight: 900; text-align: center; color: var(--primary); margin-bottom: 8px; border-bottom: 2px solid var(--primary); padding-bottom: 2px; }
.rank-item { font-size: 9px; margin-bottom: 4px; display: flex; justify-content: space-between; border-bottom: 1px dotted #ccc; padding-bottom: 2px; }

/* NAV */
nav { position: fixed; bottom: 0; left: 0; width: 100%; background: white; display: flex; border-top: 2px solid var(--primary); padding: 10px 0 25px 0; z-index: 900; box-shadow: 0 -5px 15px rgba(0,0,0,0.1); }
.nav-item { flex: 1; border: none; background: none; color: #999; font-size: 9px; font-weight: bold; text-align: center; transition: 0.3s; }
.nav-item.active { color: var(--primary); transform: translateY(-3px); }
.nav-item i { display: block; font-size: 22px; margin-bottom: 4px; color: var(--accent); }
.nav-item.active i { color: var(--primary); }

/* IMPRESSÃO (TÉRMICA 80MM) */
@media print { 
    body * { visibility: hidden; } 
    #area-print, #area-print * { visibility: visible; }
    #area-print { 
        position: absolute; left: 0; top: 0; width: 100%; 
        font-family: 'Courier New', monospace; font-size: 12px; color: black; background: white;
        padding: 5px;
    } 
    .p-header { text-align: center; margin-bottom: 15px; border-bottom: 1px dashed #000; padding-bottom: 10px; }
    .p-title { font-size: 16px; font-weight: bold; margin-bottom: 5px; }
    .p-info { font-size: 10px; margin-bottom: 2px; }
    .p-line { border-bottom: 1px dashed #000; margin: 10px 0; }
    .p-table { width: 100%; text-align: left; font-size: 11px; }
    .p-table th { border-bottom: 1px solid #000; }
    .p-total { text-align: right; font-size: 16px; font-weight: bold; margin-top: 10px; }
    .p-sign { margin-top: 40px; text-align: center; border-top: 1px solid #000; padding-top: 5px; font-size: 10px; width: 80%; margin-left: auto; margin-right: auto; }
    .p-imgs { display: flex; flex-wrap: wrap; gap: 5px; justify-content: center; margin-top: 10px; }
    .p-imgs img { width: 45%; border: 1px solid #000; }
}
